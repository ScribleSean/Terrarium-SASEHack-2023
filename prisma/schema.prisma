generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model users {
  id                       String        @id @default(auto()) @map("_id") @db.ObjectId
  email                    String        @unique
  name                     String
  password                 String
  isOrg                    Boolean       @default(false)
  imageUrl                 String
  registeredOpportunityIds String[]
  savedOpportunityIds      String[]
  attendedOpportunityIds   String[]
  createdOpportunities     opportunity[] @relation("created")
}

model opportunity {
  id               String   @id @default(auto()) @map("_id") @db.ObjectId
  title            String
  description      String
  location         String
  imageUrl         String
  date             String
  organizationId   String   @db.ObjectId
  attendedUsersIds String[]
  ended            Boolean  @default(false)
  hours            Int      @default(0)
  organization     users?   @relation("created", fields: [organizationId], references: [id])
}
